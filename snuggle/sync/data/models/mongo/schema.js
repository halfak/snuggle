db.users.ensureIndex({'name': 1})
db.users.ensureIndex({'registration': 1})
db.changes.ensureIndex({'timestamp': 1})
db.reverteds.ensureIndex({'revision.user._id': 1})
db.reverteds.ensureIndex({'revision.page._id': 1})

db.users.remove()
db.reverteds.remove()
db.changes.remove()


//For sorting

db.users.ensureIndex({'counts.all': 1, 'registration': 1})
db.users.ensureIndex({'counts.all': 1, 'reverted': 1})
db.users.ensureIndex({'counts.all': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.0': 1, 'registration': 1})
db.users.ensureIndex({'counts.0': 1, 'reverted': 1})
db.users.ensureIndex({'counts.0': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.0': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.1': 1, 'registration': 1})
db.users.ensureIndex({'counts.1': 1, 'reverted': 1})
db.users.ensureIndex({'counts.1': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.1': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.2': 1, 'registration': 1})
db.users.ensureIndex({'counts.2': 1, 'reverted': 1})
db.users.ensureIndex({'counts.2': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.2': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.3': 1, 'registration': 1})
db.users.ensureIndex({'counts.3': 1, 'reverted': 1})
db.users.ensureIndex({'counts.3': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.3': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.4': 1, 'registration': 1})
db.users.ensureIndex({'counts.4': 1, 'reverted': 1})
db.users.ensureIndex({'counts.4': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.4': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.5': 1, 'registration': 1})
db.users.ensureIndex({'counts.5': 1, 'reverted': 1})
db.users.ensureIndex({'counts.5': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.5': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.6': 1, 'registration': 1})
db.users.ensureIndex({'counts.6': 1, 'reverted': 1})
db.users.ensureIndex({'counts.6': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.6': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.7': 1, 'registration': 1})
db.users.ensureIndex({'counts.7': 1, 'reverted': 1})
db.users.ensureIndex({'counts.7': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.7': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.8': 1, 'registration': 1})
db.users.ensureIndex({'counts.8': 1, 'reverted': 1})
db.users.ensureIndex({'counts.8': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.8': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.9': 1, 'registration': 1})
db.users.ensureIndex({'counts.9': 1, 'reverted': 1})
db.users.ensureIndex({'counts.9': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.9': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.10': 1, 'registration': 1})
db.users.ensureIndex({'counts.10': 1, 'reverted': 1})
db.users.ensureIndex({'counts.10': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.10': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.11': 1, 'registration': 1})
db.users.ensureIndex({'counts.11': 1, 'reverted': 1})
db.users.ensureIndex({'counts.11': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.11': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.12': 1, 'registration': 1})
db.users.ensureIndex({'counts.12': 1, 'reverted': 1})
db.users.ensureIndex({'counts.12': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.12': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.13': 1, 'registration': 1})
db.users.ensureIndex({'counts.13': 1, 'reverted': 1})
db.users.ensureIndex({'counts.13': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.13': 1, 'last_activity': -1})
db.users.ensureIndex({'counts.14': 1, 'registration': 1})
db.users.ensureIndex({'counts.14': 1, 'reverted': 1})
db.users.ensureIndex({'counts.14': 1, 'counts.all': 1})
db.users.ensureIndex({'counts.14': 1, 'last_activity': -1})

